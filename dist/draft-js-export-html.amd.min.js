define(["draft-js","immutable"],function(e,t){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3);Object.defineProperty(t,"stateToHTML",{enumerable:!0,get:function(){return n(o)["default"]}})},,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){switch(e){case m.BLOCK_TYPE.HEADER_ONE:return["h1"];case m.BLOCK_TYPE.HEADER_TWO:return["h2"];case m.BLOCK_TYPE.HEADER_THREE:return["h3"];case m.BLOCK_TYPE.HEADER_FOUR:return["h4"];case m.BLOCK_TYPE.HEADER_FIVE:return["h5"];case m.BLOCK_TYPE.HEADER_SIX:return["h6"];case m.BLOCK_TYPE.UNORDERED_LIST_ITEM:case m.BLOCK_TYPE.ORDERED_LIST_ITEM:return["li"];case m.BLOCK_TYPE.BLOCKQUOTE:return["blockquote"];case m.BLOCK_TYPE.CODE:return["pre","code"];case m.BLOCK_TYPE.ATOMIC:return["figure"];default:return["p"]}}function u(e){switch(e){case m.BLOCK_TYPE.UNORDERED_LIST_ITEM:return"ul";case m.BLOCK_TYPE.ORDERED_LIST_ITEM:return"ol";default:return null}}function l(e){if(null==e)return"";var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=Object.keys(e)[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value,l=e[u];null!=l&&t.push(" "+u+'="'+f(l+"")+'"')}}catch(s){n=!0,o=s}finally{try{!r&&a["return"]&&a["return"]()}finally{if(n)throw o}}return t.join("")}function s(e){switch(e){case m.BLOCK_TYPE.UNORDERED_LIST_ITEM:case m.BLOCK_TYPE.ORDERED_LIST_ITEM:return!0;default:return!1}}function c(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split(" ").join("&nbsp;").split("\n").join(D+"\n")}function f(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")}function h(e,t){return new K(e,t).generate()}Object.defineProperty(t,"__esModule",{value:!0});var d,p,y,v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(l){o=!0,i=l}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t["default"]=h;var T=r(4),b=n(T),O=r(5),_=n(O),k=r(6),I=n(k),L=r(8),m=r(9),S=m.INLINE_STYLE.BOLD,P=m.INLINE_STYLE.CODE,w=m.INLINE_STYLE.ITALIC,C=m.INLINE_STYLE.STRIKETHROUGH,B=m.INLINE_STYLE.UNDERLINE,j="  ",D="<br>",R=/^data-([a-z0-9-]+)$/,N=(d={},i(d,S,{element:"strong"}),i(d,P,{element:"code"}),i(d,w,{element:"em"}),i(d,C,{element:"del"}),i(d,B,{element:"ins"}),d),Y=[S,w,B,C,P],A=(p={},i(p,m.ENTITY_TYPE.LINK,{url:"href",rel:"rel",target:"target",title:"title",className:"class"}),i(p,m.ENTITY_TYPE.IMAGE,{src:"src",height:"height",width:"width",alt:"alt",className:"class"}),p),x=(y={},i(y,m.ENTITY_TYPE.LINK,function(e,t){var r=A.hasOwnProperty(e)?A[e]:{},n=t.getData(),o={},i=!0,a=!1,u=void 0;try{for(var l,s=Object.keys(n)[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value,f=n[c];if(r.hasOwnProperty(c)){var h=r[c];o[h]=f}else R.test(c)&&(o[c]=f)}}catch(d){a=!0,u=d}finally{try{!i&&s["return"]&&s["return"]()}finally{if(a)throw u}}return o}),i(y,m.ENTITY_TYPE.IMAGE,function(e,t){var r=A.hasOwnProperty(e)?A[e]:{},n=t.getData(),o={},i=!0,a=!1,u=void 0;try{for(var l,s=Object.keys(n)[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value,f=n[c];if(r.hasOwnProperty(c)){var h=r[c];o[h]=f}else R.test(c)&&(o[c]=f)}}catch(d){a=!0,u=d}finally{try{!i&&s["return"]&&s["return"]()}finally{if(a)throw u}}return o}),y),K=function(){function e(t,r){o(this,e),null==r&&(r={}),this.contentState=t,this.options=r;var n=(0,b["default"])(r.inlineStyles,[N,Y]),i=E(n,2),a=i[0],u=i[1];this.inlineStyles=a,this.styleOrder=u}return g(e,[{key:"generate",value:function(){for(this.output=[],this.blocks=this.contentState.getBlocksAsArray(),this.totalBlocks=this.blocks.length,this.currentBlock=0,this.indentLevel=0,this.wrapperTag=null;this.currentBlock<this.totalBlocks;)this.processBlock();return this.closeWrapperTag(),this.output.join("").trim()}},{key:"processBlock",value:function(){var e=this.options.blockRenderers,t=this.blocks[this.currentBlock],r=t.getType(),n=u(r);this.wrapperTag!==n&&(this.wrapperTag&&this.closeWrapperTag(),n&&this.openWrapperTag(n)),this.indent();var o=null!=e&&e.hasOwnProperty(r)?e[r]:null,i=o?o(t):null;if(null!=i)return this.output.push(i),this.output.push("\n"),void(this.currentBlock+=1);this.writeStartTag(r),this.output.push(this.renderBlockContent(t));var a=this.getNextBlock();if(s(r)&&a&&a.getDepth()===t.getDepth()+1){this.output.push("\n");var l=this.wrapperTag;this.wrapperTag=null,this.indentLevel+=1,this.currentBlock+=1,this.processBlocksAtDepth(a.getDepth()),this.wrapperTag=l,this.indentLevel-=1,this.indent()}else this.currentBlock+=1;this.writeEndTag(r)}},{key:"processBlocksAtDepth",value:function(e){for(var t=this.blocks[this.currentBlock];t&&t.getDepth()===e;)this.processBlock(),t=this.blocks[this.currentBlock];this.closeWrapperTag()}},{key:"getNextBlock",value:function(){return this.blocks[this.currentBlock+1]}},{key:"writeStartTag",value:function(e){var t=a(e),r=!0,n=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var l=i.value;this.output.push("<"+l+">")}}catch(s){n=!0,o=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(n)throw o}}}},{key:"writeEndTag",value:function(e){var t=a(e);if(1===t.length)this.output.push("</"+t[0]+">\n");else{var r=[],n=!0,o=!1,i=void 0;try{for(var u,l=t[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){var s=u.value;r.unshift("</"+s+">")}}catch(c){o=!0,i=c}finally{try{!n&&l["return"]&&l["return"]()}finally{if(o)throw i}}this.output.push(r.join("")+"\n")}}},{key:"openWrapperTag",value:function(e){this.wrapperTag=e,this.indent(),this.output.push("<"+e+">\n"),this.indentLevel+=1}},{key:"closeWrapperTag",value:function(){this.wrapperTag&&(this.indentLevel-=1,this.indent(),this.output.push("</"+this.wrapperTag+">\n"),this.wrapperTag=null)}},{key:"indent",value:function(){this.output.push(j.repeat(this.indentLevel))}},{key:"renderBlockContent",value:function(e){var t=this,r=e.getType(),n=e.getText();if(""===n)return D;n=this.preserveWhitespace(n);var o=e.getCharacterList(),i=(0,m.getEntityRanges)(n,o);return i.map(function(e){var n=E(e,2),o=n[0],i=n[1],a=i.map(function(e){var n=E(e,2),o=n[0],i=n[1],a=c(o),u=!0,s=!1,f=void 0;try{for(var h,d=t.styleOrder[Symbol.iterator]();!(u=(h=d.next()).done);u=!0){var p=h.value;if((p!==P||r!==m.BLOCK_TYPE.CODE)&&i.has(p)){var y=t.inlineStyles[p],g=y.element,T=y.attributes,b=y.style;if(null==g&&(g="span"),T=(0,_["default"])(T),null!=b){var O=(0,I["default"])(b);T=null==T?{style:O}:v({},T,{style:O})}var k=l(T);a="<"+g+k+">"+a+"</"+g+">"}}}catch(L){s=!0,f=L}finally{try{!u&&d["return"]&&d["return"]()}finally{if(s)throw f}}return a}).join(""),u=o?L.Entity.get(o):null,s=null==u?null:u.getType().toUpperCase();if(null!=s&&s===m.ENTITY_TYPE.LINK){var f=x.hasOwnProperty(s)?x[s](s,u):null,h=l(f);return"<a"+h+">"+a+"</a>"}if(null!=s&&s===m.ENTITY_TYPE.IMAGE){var d=x.hasOwnProperty(s)?x[s](s,u):null,p=l(d);return"<img"+p+"/>"}return a}).join("")}},{key:"preserveWhitespace",value:function(e){for(var t=e.length,r=new Array(t),n=0;n<t;n++)" "!==e[n]||0!==n&&n!==t-1&&" "!==e[n-1]?r[n]=e[n]:r[n]=" ";return r.join("")}}]),e}()},function(e,t){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e,t){if(null==e)return t;var n=i(t,2),a=n[0],u=n[1],l=o({},a),s=[].concat(r(u)),c=!0,f=!1,h=void 0;try{for(var d,p=Object.keys(e)[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var y=d.value;if(a.hasOwnProperty(y)){var v=a[y];l[y]=o({},v,e[y])}else l[y]=e[y],s.push(y)}}catch(E){f=!0,h=E}finally{try{!c&&p["return"]&&p["return"]()}finally{if(f)throw h}}return[l,s]}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(l){o=!0,i=l}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t["default"]=n},function(e,t){"use strict";function r(e){if(null==e)return e;var t={},r=!1,o=!0,i=!1,a=void 0;try{for(var u,l=Object.keys(e)[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value,c=s;n.hasOwnProperty(s)&&(c=n[s],r=!0),t[c]=e[s]}}catch(f){i=!0,a=f}finally{try{!o&&l["return"]&&l["return"]()}finally{if(i)throw a}}return r?t:e}Object.defineProperty(t,"__esModule",{value:!0});var n={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"};t["default"]=r},function(e,t,r){"use strict";function n(e){return e.replace(s,"-$1").toLowerCase().replace(u,"-$1-")}function o(e,t){var r=void 0;return"string"==typeof t?r=l.test(t):(r=!0,t=String(t)),r&&"0"!==t&&a.isUnitlessNumber[e]!==!0?t+"px":t}function i(e){return Object.keys(e).map(function(t){var r=o(t,e[t]),i=n(t);return i+": "+r}).join("; ")}Object.defineProperty(t,"__esModule",{value:!0});var a=r(7),u=/^(moz|ms|o|webkit)-/,l=/^\d+$/,s=/([A-Z])/g;t["default"]=i},function(e,t){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var n={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(n).forEach(function(e){o.forEach(function(t){n[r(t,e)]=n[e]})});var i={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:n,shorthandPropertyExpansions:i};e.exports=a},function(t,r){t.exports=e},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(10);Object.keys(o).forEach(function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}),Object.defineProperty(t,"Constants",{enumerable:!0,get:function(){return n(o)["default"]}});var i=r(11);Object.defineProperty(t,"getEntityRanges",{enumerable:!0,get:function(){return n(i)["default"]}});var a=r(13);Object.defineProperty(t,"getSelectedBlocks",{enumerable:!0,get:function(){return n(a)["default"]}});var u=r(14);Object.defineProperty(t,"selectionContainsEntity",{enumerable:!0,get:function(){return n(u)["default"]}});var l=r(15);Object.defineProperty(t,"callModifierForSelectedBlocks",{enumerable:!0,get:function(){return n(l)["default"]}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.BLOCK_TYPE={UNSTYLED:"unstyled",HEADER_ONE:"header-one",HEADER_TWO:"header-two",HEADER_THREE:"header-three",HEADER_FOUR:"header-four",HEADER_FIVE:"header-five",HEADER_SIX:"header-six",UNORDERED_LIST_ITEM:"unordered-list-item",ORDERED_LIST_ITEM:"ordered-list-item",BLOCKQUOTE:"blockquote",PULLQUOTE:"pullquote",CODE:"code-block",ATOMIC:"atomic"},n=t.ENTITY_TYPE={LINK:"LINK",IMAGE:"IMAGE"},o=t.INLINE_STYLE={BOLD:"BOLD",CODE:"CODE",ITALIC:"ITALIC",STRIKETHROUGH:"STRIKETHROUGH",UNDERLINE:"UNDERLINE"};t["default"]={BLOCK_TYPE:r,ENTITY_TYPE:n,INLINE_STYLE:o}},function(e,t,r){"use strict";function n(e,t){for(var r=null,n=null,i=[],a=0,u=0,l=e.length;u<l;u++){n=r;var s=t.get(u);r=s?s.getEntity():null,u>0&&r!==n&&(i.push([n,o(e.slice(a,u),t.slice(a,u))]),a=u)}return i.push([r,o(e.slice(a),t.slice(a))]),i}function o(e,t){for(var r=a,n=a,o=[],u=0,l=0,s=e.length;l<s;l++){n=r;var c=t.get(l);r=c?c.getStyle():a,l>0&&!(0,i.is)(r,n)&&(o.push([e.slice(u,l),n]),u=l)}return o.push([e.slice(u),r]),o}Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_SET=void 0,t["default"]=n;var i=r(12),a=t.EMPTY_SET=new i.OrderedSet},function(e,r){e.exports=t},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,r){var n=t===r,o=e.getBlockForKey(t);if(!o)return[];var i=[o];if(!n)for(var a=t;a!==r;){var u=e.getBlockAfter(a);if(!u){i=[];break}i.push(u),a=u.getKey()}return i}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(13),i=n(o);t["default"]=function(e){return function(t,r){var n=t.getCurrentContent(),o=r||t.getSelection(),a=o.getStartKey(),u=o.getEndKey(),l=o.getStartOffset(),s=o.getEndOffset(),c=a===u,f=(0,i["default"])(n,a,u),h=!1,d=l+1,p=s-1;return f.forEach(function(t){e(t,function(e,r){if(!h){var n=t.getKey();c&&(r<d||e>p)||n===a&&r<d||n===u&&e>p||(h=!0)}})}),h}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(8),i=r(13),a=n(i);t["default"]=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var u=e.getCurrentContent(),l=e.getSelection(),s=l.getStartKey(),c=l.getEndKey(),f=l.getStartOffset(),h=l.getEndOffset(),d=s===c,p=(0,a["default"])(u,s,c),y=e;return p.forEach(function(e){var r=e.getKey(),i=f,a=h;r===s?(i=f,a=d?h:e.getText().length):r===c?(i=d?f:0,a=h):(i=0,a=e.getText().length);var u=new o.SelectionState({anchorKey:r,anchorOffset:i,focusKey:r,focusOffset:a});y=t.apply(void 0,[y,u].concat(n))}),o.EditorState.forceSelection(y,l)}}])});