define(["draft-js","immutable"],function(e,t){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}({0:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(113);Object.defineProperty(t,"stateToHTML",{enumerable:!0,get:function(){return n(i).default}})},34:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=t===r,i=e.getBlockForKey(t);if(!i)return[];var u=[i];if(!n)for(var a=t;a!==r;){var o=e.getBlockAfter(a);if(!o){u=[];break}u.push(o),a=o.getKey()}return u}},108:function(t,r){t.exports=e},110:function(e,t){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e,t){if(null==e)return t;var n=u(t,2),a=n[0],o=n[1],l=i({},a),s=[].concat(r(o)),c=!0,f=!1,h=void 0;try{for(var p,E=Object.keys(e)[Symbol.iterator]();!(c=(p=E.next()).done);c=!0){var v=p.value;if(a.hasOwnProperty(v)){var d=a[v];l[v]=i({},d,e[v])}else l[v]=e[v],s.push(v)}}catch(e){f=!0,h=e}finally{try{!c&&E.return&&E.return()}finally{if(f)throw h}}return[l,s]}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){var r=[],n=!0,i=!1,u=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,u=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw u}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=n},111:function(e,t){"use strict";function r(e){if(null==e)return e;var t={},r=!1,i=!0,u=!1,a=void 0;try{for(var o,l=Object.keys(e)[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var s=o.value,c=s;n.hasOwnProperty(s)&&(c=n[s],r=!0),t[c]=e[s]}}catch(e){u=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(u)throw a}}return r?t:e}Object.defineProperty(t,"__esModule",{value:!0});var n={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"};t.default=r},112:function(e,t,r){"use strict";function n(e){return e.replace(s,"-$1").toLowerCase().replace(o,"-$1-")}function i(e,t){var r=void 0;return"string"==typeof t?r=l.test(t):(r=!0,t=String(t)),r&&"0"!==t&&a.isUnitlessNumber[e]!==!0?t+"px":t}function u(e){return Object.keys(e).map(function(t){var r=i(t,e[t]),u=n(t);return u+": "+r}).join("; ")}Object.defineProperty(t,"__esModule",{value:!0});var a=r(!function(){var e=new Error('Cannot find module "react/lib/CSSProperty"');throw e.code="MODULE_NOT_FOUND",e}()),o=/^(moz|ms|o|webkit)-/,l=/^\d+$/,s=/([A-Z])/g;t.default=u},113:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){switch(e){case S.BLOCK_TYPE.HEADER_ONE:return["h1"];case S.BLOCK_TYPE.HEADER_TWO:return["h2"];case S.BLOCK_TYPE.HEADER_THREE:return["h3"];case S.BLOCK_TYPE.HEADER_FOUR:return["h4"];case S.BLOCK_TYPE.HEADER_FIVE:return["h5"];case S.BLOCK_TYPE.HEADER_SIX:return["h6"];case S.BLOCK_TYPE.UNORDERED_LIST_ITEM:case S.BLOCK_TYPE.ORDERED_LIST_ITEM:return["li"];case S.BLOCK_TYPE.BLOCKQUOTE:return["blockquote"];case S.BLOCK_TYPE.CODE:return["pre","code"];case S.BLOCK_TYPE.ATOMIC:return["figure"];default:return["p"]}}function o(e){switch(e){case S.BLOCK_TYPE.UNORDERED_LIST_ITEM:return"ul";case S.BLOCK_TYPE.ORDERED_LIST_ITEM:return"ol";default:return null}}function l(e){if(null==e)return"";var t=[],r=!0,n=!1,i=void 0;try{for(var u,a=Object.keys(e)[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var o=u.value,l=e[o];null!=l&&t.push(" "+o+'="'+f(l+"")+'"')}}catch(e){n=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw i}}return t.join("")}function s(e){switch(e){case S.BLOCK_TYPE.UNORDERED_LIST_ITEM:case S.BLOCK_TYPE.ORDERED_LIST_ITEM:return!0;default:return!1}}function c(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split("Â ").join("&nbsp;").split("\n").join(N+"\n")}function f(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")}function h(e,t){return new M(e,t).generate()}Object.defineProperty(t,"__esModule",{value:!0});var p,E,v,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y=function(){function e(e,t){var r=[],n=!0,i=!1,u=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,u=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw u}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.default=h;var O=r(110),g=n(O),_=r(111),b=n(_),L=r(112),I=n(L),P=r(108),S=r(117),w=S.INLINE_STYLE.BOLD,k=S.INLINE_STYLE.CODE,m=S.INLINE_STYLE.ITALIC,D=S.INLINE_STYLE.STRIKETHROUGH,j=S.INLINE_STYLE.UNDERLINE,B="  ",N="<br>",C=/^data-([a-z0-9-]+)$/,R=(p={},u(p,w,{element:"strong"}),u(p,k,{element:"code"}),u(p,m,{element:"em"}),u(p,D,{element:"del"}),u(p,j,{element:"ins"}),p),Y=[w,m,j,D,k],A=(E={},u(E,S.ENTITY_TYPE.LINK,{url:"href",rel:"rel",target:"target",title:"title",className:"class"}),u(E,S.ENTITY_TYPE.IMAGE,{src:"src",height:"height",width:"width",alt:"alt",className:"class"}),E),K=(v={},u(v,S.ENTITY_TYPE.LINK,function(e,t){var r=A.hasOwnProperty(e)?A[e]:{},n=t.getData(),i={},u=!0,a=!1,o=void 0;try{for(var l,s=Object.keys(n)[Symbol.iterator]();!(u=(l=s.next()).done);u=!0){var c=l.value,f=n[c];if(r.hasOwnProperty(c)){var h=r[c];i[h]=f}else C.test(c)&&(i[c]=f)}}catch(e){a=!0,o=e}finally{try{!u&&s.return&&s.return()}finally{if(a)throw o}}return i}),u(v,S.ENTITY_TYPE.IMAGE,function(e,t){var r=A.hasOwnProperty(e)?A[e]:{},n=t.getData(),i={},u=!0,a=!1,o=void 0;try{for(var l,s=Object.keys(n)[Symbol.iterator]();!(u=(l=s.next()).done);u=!0){var c=l.value,f=n[c];if(r.hasOwnProperty(c)){var h=r[c];i[h]=f}else C.test(c)&&(i[c]=f)}}catch(e){a=!0,o=e}finally{try{!u&&s.return&&s.return()}finally{if(a)throw o}}return i}),v),M=function(){function e(t,r){i(this,e),null==r&&(r={}),this.contentState=t,this.options=r;var n=(0,g.default)(r.inlineStyles,[R,Y]),u=y(n,2),a=u[0],o=u[1];this.inlineStyles=a,this.styleOrder=o}return T(e,[{key:"generate",value:function(){for(this.output=[],this.blocks=this.contentState.getBlocksAsArray(),this.totalBlocks=this.blocks.length,this.currentBlock=0,this.indentLevel=0,this.wrapperTag=null;this.currentBlock<this.totalBlocks;)this.processBlock();return this.closeWrapperTag(),this.output.join("").trim()}},{key:"processBlock",value:function(){var e=this.options.blockRenderers,t=this.blocks[this.currentBlock],r=t.getType(),n=o(r);this.wrapperTag!==n&&(this.wrapperTag&&this.closeWrapperTag(),n&&this.openWrapperTag(n)),this.indent();var i=null!=e&&e.hasOwnProperty(r)?e[r]:null,u=i?i(t):null;if(null!=u)return this.output.push(u),this.output.push("\n"),void(this.currentBlock+=1);this.writeStartTag(r),this.output.push(this.renderBlockContent(t));var a=this.getNextBlock();if(s(r)&&a&&a.getDepth()===t.getDepth()+1){this.output.push("\n");var l=this.wrapperTag;this.wrapperTag=null,this.indentLevel+=1,this.currentBlock+=1,this.processBlocksAtDepth(a.getDepth()),this.wrapperTag=l,this.indentLevel-=1,this.indent()}else this.currentBlock+=1;this.writeEndTag(r)}},{key:"processBlocksAtDepth",value:function(e){for(var t=this.blocks[this.currentBlock];t&&t.getDepth()===e;)this.processBlock(),t=this.blocks[this.currentBlock];this.closeWrapperTag()}},{key:"getNextBlock",value:function(){return this.blocks[this.currentBlock+1]}},{key:"writeStartTag",value:function(e){var t=a(e),r=!0,n=!1,i=void 0;try{for(var u,o=t[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var l=u.value;this.output.push("<"+l+">")}}catch(e){n=!0,i=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"writeEndTag",value:function(e){var t=a(e);if(1===t.length)this.output.push("</"+t[0]+">\n");else{var r=[],n=!0,i=!1,u=void 0;try{for(var o,l=t[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value;r.unshift("</"+s+">")}}catch(e){i=!0,u=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw u}}this.output.push(r.join("")+"\n")}}},{key:"openWrapperTag",value:function(e){this.wrapperTag=e,this.indent(),this.output.push("<"+e+">\n"),this.indentLevel+=1}},{key:"closeWrapperTag",value:function(){this.wrapperTag&&(this.indentLevel-=1,this.indent(),this.output.push("</"+this.wrapperTag+">\n"),this.wrapperTag=null)}},{key:"indent",value:function(){this.output.push(B.repeat(this.indentLevel))}},{key:"renderBlockContent",value:function(e){var t=this,r=e.getType(),n=e.getText();if(""===n)return N;n=this.preserveWhitespace(n);var i=e.getCharacterList(),u=(0,S.getEntityRanges)(n,i);return u.map(function(e){var n=y(e,2),i=n[0],u=n[1],a=u.map(function(e){var n=y(e,2),i=n[0],u=n[1],a=c(i),o=!0,s=!1,f=void 0;try{for(var h,p=t.styleOrder[Symbol.iterator]();!(o=(h=p.next()).done);o=!0){var E=h.value;if((E!==k||r!==S.BLOCK_TYPE.CODE)&&u.has(E)){var v=t.inlineStyles[E],T=v.element,O=v.attributes,g=v.style;if(null==T&&(T="span"),O=(0,b.default)(O),null!=g){var _=(0,I.default)(g);O=null==O?{style:_}:d({},O,{style:_})}var L=l(O);a="<"+T+L+">"+a+"</"+T+">"}}}catch(e){s=!0,f=e}finally{try{!o&&p.return&&p.return()}finally{if(s)throw f}}return a}).join(""),o=i?P.Entity.get(i):null,s=null==o?null:o.getType().toUpperCase();if(null!=s&&s===S.ENTITY_TYPE.LINK){var f=K.hasOwnProperty(s)?K[s](s,o):null,h=l(f);return"<a"+h+">"+a+"</a>"}if(null!=s&&s===S.ENTITY_TYPE.IMAGE){var p=K.hasOwnProperty(s)?K[s](s,o):null,E=l(p);return"<img"+E+"/>"}return a}).join("")}},{key:"preserveWhitespace",value:function(e){for(var t=e.length,r=new Array(t),n=0;n<t;n++)" "!==e[n]||0!==n&&n!==t-1&&" "!==e[n-1]?r[n]=e[n]:r[n]="Â ";return r.join("")}}]),e}()},114:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.BLOCK_TYPE={UNSTYLED:"unstyled",HEADER_ONE:"header-one",HEADER_TWO:"header-two",HEADER_THREE:"header-three",HEADER_FOUR:"header-four",HEADER_FIVE:"header-five",HEADER_SIX:"header-six",UNORDERED_LIST_ITEM:"unordered-list-item",ORDERED_LIST_ITEM:"ordered-list-item",BLOCKQUOTE:"blockquote",PULLQUOTE:"pullquote",CODE:"code-block",ATOMIC:"atomic"},n=t.ENTITY_TYPE={LINK:"LINK",IMAGE:"IMAGE"},i=t.INLINE_STYLE={BOLD:"BOLD",CODE:"CODE",ITALIC:"ITALIC",STRIKETHROUGH:"STRIKETHROUGH",UNDERLINE:"UNDERLINE"};t.default={BLOCK_TYPE:r,ENTITY_TYPE:n,INLINE_STYLE:i}},115:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(108),u=r(34),a=n(u);t.default=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),u=2;u<r;u++)n[u-2]=arguments[u];var o=e.getCurrentContent(),l=e.getSelection(),s=l.getStartKey(),c=l.getEndKey(),f=l.getStartOffset(),h=l.getEndOffset(),p=s===c,E=(0,a.default)(o,s,c),v=e;return E.forEach(function(e){var r=e.getKey(),u=f,a=h;r===s?(u=f,a=p?h:e.getText().length):r===c?(u=p?f:0,a=h):(u=0,a=e.getText().length);var o=new i.SelectionState({anchorKey:r,anchorOffset:u,focusKey:r,focusOffset:a});v=t.apply(void 0,[v,o].concat(n))}),i.EditorState.forceSelection(v,l)}},116:function(e,t,r){"use strict";function n(e,t){for(var r=null,n=null,u=[],a=0,o=0,l=e.length;o<l;o++){n=r;var s=t.get(o);r=s?s.getEntity():null,o>0&&r!==n&&(u.push([n,i(e.slice(a,o),t.slice(a,o))]),a=o)}return u.push([r,i(e.slice(a),t.slice(a))]),u}function i(e,t){for(var r=a,n=a,i=[],o=0,l=0,s=e.length;l<s;l++){n=r;var c=t.get(l);r=c?c.getStyle():a,l>0&&!(0,u.is)(r,n)&&(i.push([e.slice(o,l),n]),o=l)}return i.push([e.slice(o),r]),i}Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_SET=void 0,t.default=n;var u=r(350),a=t.EMPTY_SET=new u.OrderedSet},117:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(114);Object.keys(i).forEach(function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}),Object.defineProperty(t,"Constants",{enumerable:!0,get:function(){return n(i).default}});var u=r(116);Object.defineProperty(t,"getEntityRanges",{enumerable:!0,get:function(){return n(u).default}});var a=r(34);Object.defineProperty(t,"getSelectedBlocks",{enumerable:!0,get:function(){return n(a).default}});var o=r(118);Object.defineProperty(t,"selectionContainsEntity",{enumerable:!0,get:function(){return n(o).default}});var l=r(115);Object.defineProperty(t,"callModifierForSelectedBlocks",{enumerable:!0,get:function(){return n(l).default}})},118:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(34),u=n(i);t.default=function(e){return function(t,r){var n=t.getCurrentContent(),i=r||t.getSelection(),a=i.getStartKey(),o=i.getEndKey(),l=i.getStartOffset(),s=i.getEndOffset(),c=a===o,f=(0,u.default)(n,a,o),h=!1,p=l+1,E=s-1;return f.forEach(function(t){e(t,function(e,r){if(!h){var n=t.getKey();c&&(r<p||e>E)||n===a&&r<p||n===o&&e>E||(h=!0)}})}),h}}},350:function(e,r){e.exports=t}})});